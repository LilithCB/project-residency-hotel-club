<div class="max-w-7xl mx-auto p-6">
  <!-- Header -->
  <header class="mb-6 text-center">
    <h1 class="text-3xl font-extrabold text-blue-900 tracking-tight">Habitaciones</h1>
    <div class="mt-4 flex justify-center gap-4">
      {{#if (eq user.role 'Administrador')}}
        <a href="rooms/precios" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg shadow transition">Modificar Precios</a>
        <a href="rooms/reportes" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg shadow transition">Reportes</a>

      {{/if}}
    </div>
  </header>

  <!-- Tabla de Habitaciones -->
  <section id="tableSection" class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-200 shadow-lg rounded-xl overflow-hidden">
      <thead class="bg-blue-800 text-white text-sm uppercase">
        <tr>
          <th class="py-3 px-4 text-left">ID</th>
          <th class="py-3 px-4 text-left">Número</th>
          <th class="py-3 px-4 text-left">Tipo</th>
          <th class="py-3 px-4 text-left">Estado</th>
          <th class="py-3 px-4 text-center">Acciones</th>
        </tr>
      </thead>

      <tbody class="text-gray-700 divide-y divide-gray-200">
        {{#each habitaciones}}
        <tr class="hover:bg-gray-50 transition">
          <td class="py-3 px-4 font-semibold">{{this.id}}</td>
          <td class="py-3 px-4 capitalize">{{this.numero}}</td>
          <td class="py-3 px-4 capitalize">{{this.tipo}}</td>
          <td class="py-3 px-4 font-semibold">
            {{#if (eq this.estado 'disponible')}}
              <span class="px-2 py-0.5 rounded-md bg-gray-200 text-gray-800 text-sm">Disponible</span>
            {{/if}}
            {{#if (eq this.estado 'ocupado')}}
              <span class="px-2 py-0.5 rounded-md bg-red-100 text-red-700 text-sm">Ocupado</span>
            {{/if}}
            {{#if (eq this.estado 'limpieza')}}
              <span class="px-2 py-0.5 rounded-md bg-orange-100 text-orange-700 text-sm">Limpieza</span>
            {{/if}}
          </td>

          <td class="py-3 px-4 flex flex-wrap justify-center gap-2">
            <!-- Reservar: redirige a tu formulario de reservación -->
            <a href="/rooms/reservar/{{this.id}}"
               class="px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg shadow-sm transition">
               Reservar
            </a>

            <!-- Rentar: redirige a tu formulario de renta -->
            <a href="/rooms/rentar/{{this.id}}"
               class="px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg shadow-sm transition">
               Rentar
            </a>

            <!-- Botones Administrador -->
            {{#if (eq ../user.role "Administrador")}}
              <a href="/rooms/editar/{{this.id}}"
                 class="px-3 py-1 bg-yellow-500 hover:bg-yellow-600 text-white text-sm rounded-lg shadow-sm transition">
                 Editar
              </a>
              <a href="/rooms/eliminar/{{this.id}}"
                 class="px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg shadow-sm transition"
                 onclick="return confirm('¿Eliminar habitación {{this.numero}}?')">
                 Eliminar
              </a>
            {{/if}}
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </section>
</div>
